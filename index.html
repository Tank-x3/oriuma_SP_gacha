<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>オリウマサポートカードガチャ</title>
    <link rel="stylesheet" href="style.css">
    <script src="data.js" defer></script>
    <script src="config.js" defer></script>
    <script src="flavor_data.js" defer></script>
    <script src="script.js" defer></script>
</head>
<body>

    <header>
        <h1>オリウマ サポカガチャ</h1>
        <div id="user-stats">
            累計: <span id="total-pulls">0</span>回
        </div>
    </header>

    <main>
        <section id="home-screen" class="screen active">
            <div class="banner-area">
                <h2>ピックアップガチャ開催中!</h2>
                <p>個性豊かなオリウマたちに出会おう！</p>
                <div class="pickup-img-placeholder">
                    PICK UP IMAGE
                </div>
            </div>
            
            <div class="action-area">
                <button id="btn-draw-10" class="btn-primary">10連ガチャを引く！<br><span class="sub-text">(Free)</span></button>
            </div>

            <div class="menu-area">
                <button id="btn-compendium" class="btn-secondary">カードアルバム</button>
                <button id="btn-options" class="btn-secondary">データ管理</button>
            </div>
        </section>

        <section id="gacha-screen" class="screen">
            <div id="gacha-cover" class="gacha-phase">
                <div class="book-cover">
                    <div id="cover-text-area" class="cover-text">TAP TO OPEN</div>
                </div>
                <p class="instruction-text">タップしてガチャを開始</p>
            </div>

            <div id="cutin-overlay" class="cutin-overlay" style="display:none;">
                <div class="cutin-content">
                    <img id="cutin-img" class="cutin-image" src="" style="display:none;">
                    <div class="cutin-text-container">
                        <div class="cutin-text" id="cutin-text">激熱！！</div>
                        <div class="cutin-char" id="cutin-char">CHARACTER NAME</div>
                    </div>
                </div>
            </div>

            <div id="gacha-deck-view" class="gacha-phase" style="display:none;">
                <div id="promotion-flash" class="flash-overlay"></div>
                <div class="deck-container" id="deck-container"></div>
                <p class="instruction-text">カードをタップしてオープン</p>
                <button id="btn-skip-to-result" class="btn-text">スキップして結果を見る</button>
            </div>

            <div id="gacha-single-view" class="gacha-phase" style="display:none;">
                <div class="single-card-wrapper" id="single-card-wrapper"></div>
                <div class="gacha-controls">
                    <button id="btn-next-card" class="btn-primary">次のカードへ</button>
                </div>
            </div>
        </section>

        <section id="result-screen" class="screen">
            <h2>ガチャ結果</h2>
            <div class="result-grid" id="result-grid"></div>
            <div class="action-area">
                <button id="btn-retry" class="btn-primary">もう一度10連を引く</button>
                <button id="btn-home-from-result" class="btn-secondary">ホームへ戻る</button>
            </div>
        </section>

        <section id="compendium-screen" class="screen">
            <h2>カードアルバム</h2>
            
            <div class="album-filters">
                <label><input type="checkbox" id="chk-ssr" checked> SSR</label>
                <label><input type="checkbox" id="chk-sr" checked> SR</label>
                <label><input type="checkbox" id="chk-r" checked> R</label>
            </div>

            <div id="compendium-stats">
                </div>
            
            <div class="compendium-grid" id="compendium-grid">
                </div>
            <button id="btn-home-from-compendium" class="btn-secondary">戻る</button>
        </section>

        <section id="options-screen" class="screen">
            <h2>データ管理</h2>
            <div class="data-box">
                <h3>データのエクスポート</h3>
                <textarea id="export-area" readonly></textarea>
                <button id="btn-copy" class="btn-small">クリップボードにコピー</button>
            </div>
            <div class="data-box">
                <h3>データのインポート</h3>
                <textarea id="import-area" placeholder="ここにデータを貼り付け"></textarea>
                <button id="btn-import" class="btn-small">データを読み込む</button>
                <button id="btn-clear" class="btn-small btn-danger">データをリセット</button>
            </div>
            <button id="btn-home-from-options" class="btn-secondary">戻る</button>
        </section>

    </main>

    <div id="card-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <span id="modal-rarity" class="badge">SSR</span>
                <span id="modal-type">スピード</span>
            </div>
            <h3 id="modal-title">[タイトル]</h3>
            <h2 id="modal-name">キャラクター名</h2>
            <div class="modal-img-placeholder">IMAGE</div>
            <p id="modal-text" class="flavor-text">テキスト...</p>
            <div class="modal-footer">
                獲得数: <span id="modal-count">0</span>枚
            </div>
        </div>
    </div>

</body>
</html>